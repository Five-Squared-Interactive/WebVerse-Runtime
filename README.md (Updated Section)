# WebVerse-Runtime

WebVerse Unity Runtime.

## Description

This is the Unity3D runtime for WebVerse.

* For the top-level WebVerse application (NodeJS/Electron project), see [WebVerse](https://github.com/Five-Squared-Interactive/WebVerse)
* For the WebVerse World Engine (Unity3D project), see [WebVerse World Engine](https://github.com/Five-Squared-Interactive/WebVerse-WorldEngine)
* For WebVerse Samples, see [WebVerse Samples](https://github.com/Five-Squared-Interactive/WebVerse-Samples)
* For the Virtual Environment Markup Language, see [VEML](https://github.com/Five-Squared-Interactive/VEML/wiki/Document-Structure)
* For the WebVerse JavaScript World APIs, see [World APIs](https://five-squared-interactive.github.io/World-APIs/)
* For Virtual reality Operating System (VOS) Synchronization Service (VSS), see [VSS](https://github.com/Five-Squared-Interactive/VOS-Synchronization)

## Architecture

![WebVerse-Runtime-Architecture](https://github.com/Five-Squared-Interactive/WebVerse-Runtime/assets/16926525/3877dfec-e541-4475-9bcf-7d07a7421ce1)

## WebGL/WebGPU Optimizations

WebVerse Runtime includes comprehensive memory and performance optimizations for web deployment:

- **Memory Configuration**: Optimized heap allocation with 64MB initial size and smart growth patterns
- **Streaming Mipmaps**: 50-75% texture memory reduction with 256MB dedicated budget
- **WebGL-Optimized Quality Preset**: Platform-specific settings for optimal web performance
- **Build Optimizations**: Gzip compression, Wasm targeting, and production exception handling
- **Automatic Resource Management**: Periodic cleanup prevents memory leaks and maintains performance

For detailed information, see [WebGL Memory Optimization Summary](docs/developer/webgl-memory-optimization-summary.md).

### Performance Impact
- **30-50%** reduction in initial memory usage
- **40-60%** faster loading times through compression
- **15-25%** frame rate improvement in complex scenes
- **50-75%** texture memory savings via streaming mipmaps

## Developing

### Development Prerequisites

* Unity 2021.3.26 with Universal Render Pipeline

#### Unity Asset Store Packages

WebVerse is free and open source, however, it does leverage some paid Unity Asset Store packages. Therefore, we are not able to distribute these. However, you can obtain these packages at the links provided below and import them into your cloned Unity project.

* Best HTTP v3.0.4: https://assetstore.unity.com/packages/tools/network/best-http-267636
* Best MQTT v3.0.2: https://assetstore.unity.com/packages/tools/network/best-mqtt-268762
* Best WebSockets v3.0.1: https://assetstore.unity.com/packages/tools/network/best-websockets-268757

### Setup

1. Clone the repository with submodules and navigate to that directory: